# Subject

A publisher that exposes a method for outside callers to publish elements.

> A subject is a publisher that you can use to â€injectâ€ values into a stream, by calling itsÂ `send(_:)`method.
> 

```swift
@available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
public protocol Subject : AnyObject, Publisher {

    /// Sends a value to the subscriber.
    ///
    /// - Parameter value: The value to send.
    func send(_ value: Self.Output)

    /// Sends a completion signal to the subscriber.
    ///
    /// - Parameter completion: A `Completion` instance which indicates whether publishing has finished normally or failed with an error.
    func send(completion: Subscribers.Completion<Self.Failure>)

    /// Sends a subscription to the subscriber.
    ///
    /// This call provides the ``Subject`` an opportunity to establish demand for any new upstream subscriptions.
    ///
    /// - Parameter subscription: The subscription instance through which the subscriber can request elements.
    func send(subscription: Subscription)
}
```

SubjectëŠ” `Publisher` í”„ë¡œí† ì½œì„ ì±„íƒí•˜ëŠ” í”„ë¡œí† ì½œì´ë‹¤. Publisherì™€ ë‹¤ë¥¸ì ì€ sendë¥¼ í†µí•´ ë°–ì—ì„œ ìŠ¤íŠ¸ë¦¼ì— ê°’ì„ ì£¼ì…ì‹œì¼œì¤„ ìˆ˜ ìˆë‹¤.

---

## PassthroughSubject

A subject that broadcasts elements to downstream subscribers.

`ì´ ë¬¸ì¥ ë³´ê³  ì´í•´ê°€ ë êº¼ë¼ ìƒê°í–ˆë‚˜? ì• í”Œë†ˆì•„ğŸ’¬`

ë°”ë¡œ ì˜ˆì œë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤

```swift
let subject1 = PassthroughSubject<Int, Never>()
subject1
  .sink(
    receiveCompletion: { print("completion1", $0) },
    receiveValue: {
      print("Received Value1:", $0)
    }
  ).store(in: &cancellables)

subject1.send(0)
subject1.send(1)
subject1.send(2)
subject1.send(completion: .finished)

// Received Value1: 0
// Received Value1: 1
// Received Value1: 2
// completion1 finished
```

RxSwiftì—ì„œ PublishSubjectì— onNext()ë¡œ ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•˜ê³ , onCompleted()ë¡œ ì‹œí€€ìŠ¤ê°€ ì¢…ë£Œë˜ëŠ”ê²ƒê³¼ êµ‰ì¥íˆ ìœ ì‚¬í•˜ë‹¤!

---

## CurrentValueSubject

A subject that wraps a single value and publishes a new element whenever the value changes.

RxSwiftì—ì„œì˜ BehaviorSujectì™€ êµ‰ì¥íˆ ìœ ì‚¬í•˜ë‹¤. ê·¸ëŸ¼ ì•„ë˜ì˜ ê²°ê³¼ë¥¼ ì˜ˆìƒí•´ë³´ì

```swift
let subject2 = CurrentValueSubject<Int, Never>(0)
subject2
  .sink(
    receiveCompletion: { print("completion2", $0) },
    receiveValue: {
      print("Received Value2:", $0)
    }
  ).store(in: &cancellables)

subject2.send(1)
subject2.send(2)

subject2
  .sink(
    receiveCompletion: { print("completion3", $0) },
    receiveValue: {
      print("Received Value3:", $0)
    }
  ).store(in: &cancellables)

subject2.send(3)
subject2.send(completion: .finished)
```

ì´ˆê¸°ê°’(0)ì„ ê°€ì§„ ìƒíƒœë¡œ ì‹œì‘í•˜ê¸° ë•Œë¬¸ì— ì²«ë²ˆì§¸ êµ¬ë…í•˜ëŠ” ì‹œì ì— 0ì„ ë°©ì¶œ `(1)`

1, 2 ë¥¼ ë°©ì¶œ `(1)`

ë‘ë²ˆì§¸ êµ¬ë… ì‹œì ì— ìµœì‹ ê°’ì¸ 2ë¥¼ ë°©ì¶œ `(2)`

3ì„ ë°©ì¶œ `(1, 2)`

```swift
Received Value2: 0
Received Value2: 1
Received Value2: 2
Received Value3: 2
Received Value2: 3
Received Value3: 3
```

â—ï¸

ê³µì‹ë¬¸ì„œ ì–´ë””ì—ë„ `PassthroughSubject = PublishSubject, CurrentvalueSubject = BehaviorSubject` ë¼ê³  ëª…ì‹œë˜ì–´ ìˆì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ê°œì¸ì ìœ¼ë¡œ êµ‰ì¥íˆ ìœ ì‚¬í•˜ë‹¤ê³  ëŠê¼ˆì„ ë¿ì…ë‹ˆë‹¤..
RxSwift Subjectì— ê´€í•œ ë‚´ìš©ì€ [ì´ê³³ì—ì„œ](https://github.com/Brandnew-one/Practice-RxSwift/blob/main/Document/Subject/Subject%200e862e210b944e4b9749d08ed53f7615.md) í™•ì¸í•  ìˆ˜ 
