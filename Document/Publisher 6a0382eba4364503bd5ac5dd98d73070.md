# Publisher

> Declares that a type can transmit a sequence of values over time.
> 

ê³µì‹ë¬¸ì„œì—ì„œ ì‹œê°„ì˜ íë¦„ì— ë”°ë¼ ì‹œí€€ìŠ¤ì˜ ê°’ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ì„ ì–¸í•˜ëŠ” ê²ƒ. (RxSwiftì—ì„œì˜ Observableê³¼ ìœ ì‚¬í•œ ëŠë‚Œ)

```swift
public protocol Publisher {

    /// The kind of values published by this publisher.
    associatedtype Output

    /// The kind of errors this publisher might publish.
    ///
    /// Use `Never` if this `Publisher` does not publish errors.
    associatedtype Failure : Error

    /// Attaches the specified subscriber to this publisher.
    ///
    /// Implementations of ``Publisher`` must implement this method.
    ///
    /// The provided implementation of ``Publisher/subscribe(_:)-4u8kn``calls this method.
    ///
    /// - Parameter subscriber: The subscriber to attach to this ``Publisher``, after which it can receive values.
    func receive<S>(subscriber: S) where S : Subscriber, Self.Failure == S.Failure, Self.Output == S.Input
}
```

ì‹¤ì œ êµ¬í˜„ë¶€ë¥¼ ì‚´í´ë³´ë©´ í”„ë¡œí† ì½œë¡œ êµ¬í˜„ë˜ì–´ ìˆê³  Output, Failure ì˜ ì œë„¤ë¦­ íƒ€ì…ê³¼ subscriberë¥¼ ë°›ì•„ë“¤ì´ê¸° ìœ„í•´ receiveë¼ëŠ” ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. (receiveëŠ” subscriberë¥¼ ì •ë¦¬í•  ë•Œ ì¢€ ë” ìì„¸íˆ ì •ë¦¬í•  ì˜ˆì •)

---

ìš°ì„ , RxSwiftì™€ ë§ˆì°¬ê°€ì§€ë¡œ Publisherë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ë¨¼ì € í™•ì¸í•´ë³´ì

### 1) Just

A publisher that emits an output to each subscriber just once, and then finishes.

```swift
let justPublisher = Just(["Bran", "JD-Man"])
justPublisher
  .sink(
    receiveCompletion: {
      print("completion", $0)
    },
    receiveValue: {
      print("recevied Value is", $0)
    }
  ).store(in: &cancellables)

// recevied Value is ["Bran", "JD-Man"]
// completion finished
```

- `Just`Â publisher canâ€™t fail with an error.
- `Just`Â publisher always produces a value.

JustëŠ” subscriberì—ê²Œ í•œë²ˆ outputì„ ë°©ì¶œí•˜ê³  ì¢…ë£Œëœë‹¤. ë˜í•œ Failure íƒ€ì…ì´ Neverë¡œ ì—ëŸ¬ë¥¼ ë°©ì¶œí•  ìˆ˜ ì—†ê³  Optional í•œ íƒ€ì…ì´ ì•„ë‹Œ ì‹¤ì œ ê°’ ì„ ì œê³µí•œë‹¤

### 2) Future(class)

A publisher that eventually produces a single value and then finishes or fails.

```swift
let futurePublisher = Future<String, Never> { promise in
  promise(.success("Bran"))
  promise(.success("JD-Man"))
}
futurePublisher
  .sink(
    receiveCompletion: {
      print("completion", $0)
    },
    receiveValue: {
      print("recevied Value is", $0)
    }
  ).store(in: &cancellables)
// recevied Value is Bran
// completion finished
```

ì‹¤íŒ¨í•˜ê±°ë‚˜ í•˜ë‚˜ì˜ ê°’ì„ ë°©ì¶œí•œ í›„ ì¢…ë£Œëœë‹¤. (RxSwift traitsì˜ Singleê³¼ êµ‰ì¥íˆ ìœ ì‚¬í•˜ë‹¤)

### 3) Empty

A publisher that never publishes any values, and optionally finishes immediately.

```swift
let emptyPublisher = Empty<String, Never>()
emptyPublisher
  .sink(
    receiveCompletion: {
      print("completion", $0)
    },
    receiveValue: {
      print("recevied Value is", $0)
    }
  ).store(in: &cancellables)

// completion finishedã…‡
```

ì•„ë¬´ëŸ° ê°’ì„ ë°©ì¶œí•˜ì§€ ì•ŠëŠ” publisher, `completeImmediately` í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ë°”ë¡œ ì¢…ë£Œë˜ê²Œ í•  ìˆ˜ ìˆë‹¤.

(RxSwiftì˜ emptyì™€ ë™ì¼)

### 4) Fail

A publisher that immediately terminates with the specified error.

```swift
enum CustomError: Error {
  case `default`
}

let failPublisher = Fail<String, CustomError>(error: CustomError.default)
failPublisher
  .sink(
    receiveCompletion: {
      print("completion", $0)
    },
    receiveValue: {
      print("recevied Value is", $0)
    }
  ).store(in: &cancellables)

// completion failure(__lldb_expr_7.CustomError.default)
```

ì¦‰ì‹œ íŠ¹ì •ì—ëŸ¬ì™€ í•¨ê»˜ ì¢…ë£Œë˜ëŠ” publisher, í˜„ì¬ëŠ” Test ì½”ë“œì—ì„œ ì‚¬ìš©í•  ê²ƒ ê°™ì€ë° ì–´ëŠ ìƒí™©ì— ì‚¬ìš©í•˜ëŠ”ì§€ëŠ” ì¢€ ë” ì‚¬ìš©í•´ë³´ê³  ì¶”ê°€ì ìœ¼ë¡œ ì •ë¦¬

### 5) **Sequence**

A publisher that publishes a given sequence of elements.

```swift
let sequencePublisher1 = Publishers.Sequence<[String], Never>(sequence: ["Bran", "JD-Man"])

sequencePublisher1
  .sink(
    receiveCompletion: {
      print("completion", $0)
    },
    receiveValue: {
      print("recevied Value is", $0)
    }
  ).store(in: &cancellables)

// recevied Value is Bran
// recevied Value is JD-Man
// completion finished
```

ğŸ¤¦Â Sequenceë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” Publishers.Sequenceì™€ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•œë‹¤! 

ê·¸ëƒ¥ SequenceëŠ” ìš°ë¦¬ê°€ ì•Œê³  ìˆëŠ” Swiftì˜ í”„ë¡œí† ì½œì´ë‹¤

```swift
let sequencePublisher2 = ["Bran", "JD-Man"].publisher
sequencePublisher2
  .sink(
    receiveCompletion: {
      print("completion", $0)
    },
    receiveValue: {
      print("recevied Value is", $0)
    }
  ).store(in: &cancellables)

// recevied Value is Bran
// recevied Value is JD-Man
// completion finished
```

ìœ„ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ë„ ìˆë‹¤.

### 6) Record

A publisher that allows for recording a series of inputs and a completion, for later playback to each subscriber.

```swift
let recordPublisher = Record<String, Never>(output: ["Bran", "JD-Man"], completion: .finished)
recordPublisher
  .sink(
    receiveCompletion: {
      print("completion", $0)
    },
    receiveValue: {
      print("recevied Value is", $0)
    }
  ).store(in: &cancellables)

// recevied Value is Bran
// recevied Value is JD-Man
// completion finished
```

inputê³¼ completionì„ ê¸°ë¡í–ˆë‹¤ê°€ ê°ê°ì˜ subscriberì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤?

ğŸ˜¿Â RxSwiftì—ì„œì˜ ReplaySubject ì²˜ëŸ¼ êµ¬ë…í•˜ëŠ” ì‹œì ì˜ ì´ì „ ê°’ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì¸ì§€? Cold Observableì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì¸ì§€? ì •í™•í•˜ê²Œ ì•„ì§ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.